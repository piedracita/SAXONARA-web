(function(f){jQuery.fn.extend({slimScroll:function(g){var a=f.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",animate:!0},g);this.each(function(){function x(b){if(u){b=
b||window.event;var d=0;b.wheelDelta&&(d=-b.wheelDelta/120);b.detail&&(d=b.detail/3);f(b.target||b.srcTarget||b.srcElement).closest("."+a.wrapperClass).is(c.parent())&&h(d,!0);b.preventDefault&&!k&&b.preventDefault();k||(b.returnValue=!1)}}function h(b,d,v){k=!1;var C=c.outerHeight()-e.outerHeight();d&&(d=parseInt(e.css("top"))+b*parseInt(a.wheelStep)/100*e.outerHeight(),d=Math.min(Math.max(d,0),C),d=0<b?Math.ceil(d):Math.floor(d),e.css({top:d+"px"}));l=parseInt(e.css("top"))/(c.outerHeight()-e.outerHeight());
d=l*(c[0].scrollHeight-c.outerHeight());v&&(d=b,b=d/c[0].scrollHeight*c.outerHeight(),b=Math.min(Math.max(b,0),C),e.css({top:b+"px"}));"scrollTo"in a&&a.animate?c.animate({scrollTop:d}):c.scrollTop(d);c.trigger("slimscrolling",~~d);y();p()}function z(){w=Math.max(c.outerHeight()/c[0].scrollHeight*c.outerHeight(),30);e.css({height:w+"px"});var b=w==c.outerHeight()?"none":"block";e.css({display:b})}function y(){z();clearTimeout(D);l==~~l?(k=a.allowPageScroll,E!=l&&c.trigger("slimscroll",0==~~l?"top":
"bottom")):k=!1;E=l;w>=c.outerHeight()?k=!0:(e.stop(!0,!0).fadeIn("fast"),a.railVisible&&m.stop(!0,!0).fadeIn("fast"))}function p(){a.alwaysVisible||(D=setTimeout(function(){a.disableFadeOut&&u||A||B||(e.fadeOut("slow"),m.fadeOut("slow"))},1E3))}var u,A,B,D,n,w,l,E,k=!1,c=f(this);"ontouchstart"in window&&window.navigator.msPointerEnabled&&c.css("-ms-touch-action","none");if(c.parent().hasClass(a.wrapperClass)){var q=c.scrollTop();e=c.parent().find("."+a.barClass);m=c.parent().find("."+a.railClass);
z();if(f.isPlainObject(g)){if("height"in g&&"auto"==g.height){c.parent().css("height","auto");c.css("height","auto");var r=c.parent().parent().height();c.parent().css("height",r);c.css("height",r)}if("scrollTo"in g)q=parseInt(a.scrollTo);else if("scrollBy"in g)q+=parseInt(a.scrollBy);else if("destroy"in g){e.remove();m.remove();c.unwrap();return}h(q,!1,!0)}}else{a.height="auto"==g.height?c.parent().height():g.height;q=f("<div></div>").addClass(a.wrapperClass).css({position:"relative",overflow:"hidden",
width:a.width,height:a.height});c.css({overflow:"hidden",width:a.width,height:a.height});var m=f("<div></div>").addClass(a.railClass).css({width:a.size,height:"100%",position:"absolute",top:0,display:a.alwaysVisible&&a.railVisible?"block":"none","border-radius":a.railBorderRadius,background:a.railColor,opacity:a.railOpacity,zIndex:90}),e=f("<div></div>").addClass(a.barClass).css({background:a.color,width:a.size,position:"absolute",top:0,opacity:a.opacity,display:a.alwaysVisible?"block":"none","border-radius":a.borderRadius,
BorderRadius:a.borderRadius,MozBorderRadius:a.borderRadius,WebkitBorderRadius:a.borderRadius,zIndex:99});r="right"==a.position?{right:a.distance}:{left:a.distance};m.css(r);e.css(r);c.wrap(q);c.parent().append(e);c.parent().append(m);a.railDraggable&&e.bind("mousedown",function(b){var d=f(document);B=!0;t=parseFloat(e.css("top"));pageY=b.pageY;d.bind("mousemove.slimscroll",function(v){currTop=t+v.pageY-pageY;e.css("top",currTop);h(0,e.position().top,!1)});d.bind("mouseup.slimscroll",function(v){B=
!1;p();d.unbind(".slimscroll")});return!1}).bind("selectstart.slimscroll",function(b){b.stopPropagation();b.preventDefault();return!1});"ontouchstart"in window&&window.navigator.msPointerEnabled&&(c.bind("MSPointerDown",function(b,d){n=b.originalEvent.pageY}),c.bind("MSPointerMove",function(b){b.originalEvent.preventDefault();h((n-b.originalEvent.pageY)/a.touchScrollStep,!0);n=b.originalEvent.pageY}));m.hover(function(){y()},function(){p()});e.hover(function(){A=!0},function(){A=!1});c.hover(function(){u=
!0;y();p()},function(){u=!1;p()});c.bind("touchstart",function(b,d){b.originalEvent.touches.length&&(n=b.originalEvent.touches[0].pageY)});c.bind("touchmove",function(b){k||b.originalEvent.preventDefault();b.originalEvent.touches.length&&(h((n-b.originalEvent.touches[0].pageY)/a.touchScrollStep,!0),n=b.originalEvent.touches[0].pageY)});z();"bottom"===a.start?(e.css({top:c.outerHeight()-e.outerHeight()}),h(0,!0)):"top"!==a.start&&(h(f(a.start).position().top,null,!0),a.alwaysVisible||e.hide());(function(){window.addEventListener?
(this.addEventListener("DOMMouseScroll",x,!1),this.addEventListener("mousewheel",x,!1)):document.attachEvent("onmousewheel",x)})()}});return this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);